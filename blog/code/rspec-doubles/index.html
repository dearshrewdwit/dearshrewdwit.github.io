<link href="/stylesheets/blog.css" rel="stylesheet" />
<link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/blog/feed.xml" />

<!doctype html>
<html>
  <head>
    <link href="/stylesheets/main.css" rel="stylesheet" />
    <link href="/stylesheets/homepage.css" rel="stylesheet" />
    <link href="/images/profile_pic.ico" rel="icon" type="image/ico" />

    <meta charset="utf-8" />
    <meta http-equiv='X-UA-Compatible' content='IE=edge;chrome=1' />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://fonts.googleapis.com/css?family=Lora" rel="stylesheet">
    <title>Edward A Withers - RSpec test doubles</title>
  </head>
  <body>
    <div class="page-content">

        <header>
    <h3><a href="/" class="author-name title-link">Edward Withers</a></h3>

    <!-- BEGIN head-block -->
<header class="navigation-links">
  <span id="desktop-only">
    <a href="/" class="nav-link">About</a>
    <a href="/blog" class="nav-link">Blog</a>
    <a href="/blog/archive" class="nav-link">All posts</a>
    <a href="/blog/feed.xml" class="nav-link">RSS</a>
  </span>
</header>
  <!-- END head-block -->

  </header>

  <article class="article-content">
    <h1>RSpec test doubles</h1>
    <hr />
<p>Imagine this domain.</p>

<p><code>
class Herd
  def initialize(animals)
    @animals = animals
  end
  def young_animals
    @animals.select(&amp;:young?)
  end
end
</code>
<code>
class Cow
  def initialize
    @age = 0
  end
  def grow
    @age += 1
  end
  def young?
    @age &lt; 2
  end
end
</code>
<code>
# Let's make some cows.
betty = Cow.new
sharon = Cow.new
chris = Cow.new
</code>
<code>
# let's age chris quickly.
2.times { chris.grow }
animals = [betty, sharon, chris]
# let's create a herd of cows
herd = Herd.new(animals)
</code></p>

<p>Suppose now we give the herd a way to grow:</p>

<p><code>
class Herd
  def initialize(animals)
    @animals = animals
  end
  def young_animals
    @animals.select(&amp;:young?)
  end
  def add(animal_class)
    animal = animal_class.new
    @animals &lt;&lt; animal
    animal
  end
end
</code>
Objective: change this spec in order to test this class in isolation
```
describe Herd do
  describe '#young_animals' do
    cow1 = Cow.new
    cow2 = Cow.new
    animals = [cow1, cow2]
    herd = Herd.new(animals)</p>

<pre><code>expect(herd.young_animals).to eq animals   end
</code></pre>

<p>end
```</p>

  </article>



      <!-- <video id="video" controls="controls" controlslist="nodownload" width="100%" height="100%" onplay="SlideSynchronizer.start();" poster="https://cdn.infoq.com/statics_s1_20171128-0631/styles/i/logo_scrubber_16_9.jpg" src="https://videoh.infoq.com/presentations/15-mar-neurodiversity-2.mp4">
                                    </video> -->

    </div>
  </body>
</html>
